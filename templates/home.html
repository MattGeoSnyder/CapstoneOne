{% extends 'base.html' %}

{% import 'set.html' as set %}

{% block style %}
  <link rel="stylesheet" href="/static/style/home.css">
{% endblock %}

{% block content %}
<div id="main-content" class="container-fluid">
    <h3 class="text-center">Upcoming Workouts</h3>
    <hr>
    <div id="upcoming-workouts">
      {% if upcoming %}
        {% for workout in upcoming %}
          <div class="workout">
            <div class="workout-header">
              <span>
                {{ workout.scheduled.strftime('%m/%d/%Y')}}
              </span>
              <h3><a href="/workouts/{{workout.id}}">{{workout.name}}</a></h3> 
              <form method="POST" action="/workouts/delete/{{workout.id}}" class="del">
                <a onclick="this.parentNode.submit()">
                  <i class="fa-solid fa-x fa-xl" ></i>
                </a>
              </form> 
            </div>
            <h4>Exercises <i href="#" class="fa-solid fa-caret-down"></i></h4>
            <div class="exercises">
              {% for exercise in workout.exercises %}
                  <span>{{exercise.exercise_name}} <i class="fa-solid fa-caret-down"></i></span>
                  <div class="sets">
                    {% for ex_set in exercise.sets %}
                      {{set.render_set(loop.index, ex_set)}}
                    {% endfor %}
                  </div>
              {% endfor %}
            </div>
          </div>
        {% endfor %}
      {% else %}
          No items to display
      {% endif %}
    </div>
    <h3 class="text-center">Completed Workouts</h3>
    <hr>
    <div id="completed-wrapper" class="container-fluid">
      <div id="completed-workouts" class="container-fluid">
        {% if completed %}
          {% for workout in completed %}
            <div class="workout">
              <div class="workout-header">
                <span>
                  {{ workout.scheduled.strftime('%m/%d/%Y')}}
                </span>
                <h3><a href="/workouts/{{workout.id}}">{{workout.name}}</a></h3>
                <form method="POST" action="/workouts/delete/{{workout.id}}" class="del">
                  <a onclick="this.parentNode.submit()">
                    <i class="fa-solid fa-x fa-xl" ></i>
                  </a>
                </form> 
              </div>
              <h4>Exercises <i href="#" class="fa-solid fa-caret-down"></i></h4>
              <div class="exercises">
                {% for exercise in workout.exercises %}
                    <span>{{exercise.exercise_name}} <i class="fa-solid fa-caret-down"></i></span>
                    <div class="sets">
                      {% for ex_set in exercise.sets %}
                        {{set.render_set(loop.index, ex_set)}}
                      {% endfor %}
                    </div>
                {% endfor %}
              </div>
              </div>
          {% endfor %}
        {% else %}
          No items to display
        {% endif %}    
      </div>
    </div>
</div>
{% endblock %}

{% block script %}
  <script src="/static/script/home.js"></script>
{% endblock %}